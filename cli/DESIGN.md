# Phi CLI è¨­è¨ˆæ›¸

## æ¦‚è¦

Backend APIã¨é€£æºã™ã‚‹ãƒãƒƒã‚«ãƒ¼é¢¨CLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚
ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çµ±ä¸€çš„ã«ç®¡ç†ã—ã€ä¸€è²«ã—ãŸã€Œæˆ»ã‚‹ã€æŒ™å‹•ã‚’å®Ÿç¾ã™ã‚‹ã€‚

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      phi (entry point)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PhiApplication                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ MenuSystem  â”‚  â”‚  APIClient  â”‚  â”‚  BannerRenderer â”‚  â”‚
â”‚  â”‚ (ãƒŠãƒ“ç®¡ç†)ã€€  â”‚  â”‚ (HTTPé€šä¿¡)  â”‚  â”‚  (è¡¨ç¤º)        ã€€ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Menus                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Operate  â”‚ â”‚ Record   â”‚ â”‚ Train    â”‚ â”‚ Storage  â”‚   â”‚
â”‚  â”‚ Menu     â”‚ â”‚ Menu     â”‚ â”‚ Menu     â”‚ â”‚ Menu     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Setup    â”‚ â”‚ Info     â”‚ â”‚ Config   â”‚                â”‚
â”‚  â”‚ Menu     â”‚ â”‚ Menu     â”‚ â”‚ Menu     â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Backend API Server                    â”‚
â”‚                   (localhost:8000)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### 1. MenuSystem (ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†)

```python
class MenuResult(Enum):
    CONTINUE = "continue"  # åŒã˜ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ç¶šã‘ã‚‹
    BACK = "back"          # 1ã¤å‰ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹
    EXIT = "exit"          # ã‚¢ãƒ—ãƒªçµ‚äº†

class MenuSystem:
    """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚¿ãƒƒã‚¯ã‚’ç®¡ç†ã—ã€ä¸€è²«ã—ãŸãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›"""

    def __init__(self):
        self._stack: List[Callable] = []  # ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–¢æ•°ã®ã‚¹ã‚¿ãƒƒã‚¯

    def push(self, menu_func: Callable) -> None:
        """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«ãƒ—ãƒƒã‚·ãƒ¥"""
        self._stack.append(menu_func)

    def pop(self) -> Optional[Callable]:
        """ã‚¹ã‚¿ãƒƒã‚¯ã‹ã‚‰ãƒãƒƒãƒ— (1ã¤æˆ»ã‚‹)"""
        if self._stack:
            return self._stack.pop()
        return None

    def run(self, initial_menu: Callable) -> None:
        """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ«ãƒ¼ãƒ—ã‚’å®Ÿè¡Œ"""
        self.push(initial_menu)

        while self._stack:
            current_menu = self._stack[-1]
            result = current_menu()

            if result == MenuResult.BACK:
                self.pop()
            elif result == MenuResult.EXIT:
                break
            # CONTINUE ã®å ´åˆã¯åŒã˜ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å†è¡¨ç¤º
```

### 2. MenuåŸºåº•ã‚¯ãƒ©ã‚¹

```python
from InquirerPy import inquirer
from InquirerPy.base.control import Choice

class BaseMenu:
    """å…¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®åŸºåº•ã‚¯ãƒ©ã‚¹"""

    BACK_VALUE = "__BACK__"  # æˆ»ã‚‹ç”¨ã®ç‰¹æ®Šå€¤

    def __init__(self, app: "PhiApplication"):
        self.app = app
        self.api = app.api_client

    @property
    def title(self) -> str:
        """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¿ã‚¤ãƒˆãƒ«"""
        raise NotImplementedError

    def get_choices(self) -> List[Choice]:
        """é¸æŠè‚¢ã‚’è¿”ã™ (æœ€å¾Œã«ã€Œæˆ»ã‚‹ã€ã‚’è‡ªå‹•è¿½åŠ )"""
        raise NotImplementedError

    def handle_choice(self, choice: Any) -> MenuResult:
        """é¸æŠè‚¢ã®å‡¦ç†"""
        raise NotImplementedError

    def show(self) -> MenuResult:
        """ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã¦çµæœã‚’è¿”ã™"""
        choices = self.get_choices()
        choices.append(Choice(value=self.BACK_VALUE, name="Â« æˆ»ã‚‹"))

        try:
            selected = inquirer.select(
                message=f"[{self.title}]",
                choices=choices,
                style=hacker_style,
                qmark="",
                amark="",
                pointer="â¯",
            ).execute()
        except KeyboardInterrupt:
            return MenuResult.BACK

        if selected == self.BACK_VALUE:
            return MenuResult.BACK

        return self.handle_choice(selected)
```

### 3. APIClient (Backendé€šä¿¡)

```python
class APIClient:
    """Backend APIã¨ã®é€šä¿¡ã‚’æ‹…å½“"""

    def __init__(self, base_url: str = "http://localhost:8000"):
        self.base_url = base_url
        self.session = requests.Session()

    def get(self, path: str, **kwargs) -> dict:
        resp = self.session.get(f"{self.base_url}{path}", **kwargs)
        resp.raise_for_status()
        return resp.json()

    def post(self, path: str, **kwargs) -> dict:
        resp = self.session.post(f"{self.base_url}{path}", **kwargs)
        resp.raise_for_status()
        return resp.json()

    # å„APIç”¨ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰
    def list_projects(self) -> List[dict]:
        return self.get("/api/projects")["projects"]

    def start_teleop(self, mode: str, config: dict) -> dict:
        return self.post("/api/teleop/start", json={"mode": mode, **config})

    # ... ä»–ã®APIãƒ¡ã‚½ãƒƒãƒ‰
```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
interfaces/cli/
â”œâ”€â”€ pyproject.toml          # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¨­å®š
â”œâ”€â”€ DESIGN.md               # ã“ã®è¨­è¨ˆæ›¸
â””â”€â”€ src/
    â””â”€â”€ phi_cli/
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ main.py             # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
        â”œâ”€â”€ app.py              # PhiApplication
        â”œâ”€â”€ api_client.py       # APIClient
        â”œâ”€â”€ menu_system.py      # MenuSystem, MenuResult, BaseMenu
        â”œâ”€â”€ styles.py           # ãƒãƒƒã‚«ãƒ¼é¢¨ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
        â”œâ”€â”€ banner.py           # ãƒãƒŠãƒ¼è¡¨ç¤º
        â””â”€â”€ menus/
            â”œâ”€â”€ __init__.py
            â”œâ”€â”€ main_menu.py    # ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
            â”œâ”€â”€ operate.py      # æ“ä½œãƒ¢ãƒ¼ãƒ‰
            â”œâ”€â”€ record.py       # ãƒ‡ãƒ¼ã‚¿åéŒ²
            â”œâ”€â”€ train.py        # ãƒ¢ãƒ‡ãƒ«å­¦ç¿’
            â”œâ”€â”€ storage.py      # ãƒ‡ãƒ¼ã‚¿ç®¡ç†
            â”œâ”€â”€ setup.py        # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
            â”œâ”€â”€ info.py         # ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±
            â””â”€â”€ config.py       # è¨­å®š
```

## ãƒ¡ãƒ‹ãƒ¥ãƒ¼é·ç§»ãƒ•ãƒ­ãƒ¼

```
MainMenu
â”œâ”€â”€ OperateMenu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â”œâ”€â”€ TeleopSubmenu                                    â”‚
â”‚   â”‚   â”œâ”€â”€ [å®Ÿè¡Œ] â†’ TeleopSession â†’ æˆ»ã‚‹ â†’ TeleopSubmenuâ”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ OperateMenu                         â”‚
â”‚   â”œâ”€â”€ InferenceSubmenu                                 â”‚
â”‚   â”‚   â”œâ”€â”€ [å®Ÿè¡Œ] â†’ InferenceSession â†’ æˆ»ã‚‹             â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ OperateMenu                         â”‚
â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ MainMenu                                â”‚
â”‚                                                        â”‚
â”œâ”€â”€ RecordMenu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”œâ”€â”€ [æ–°è¦éŒ²ç”»] â†’ RecordSession â†’ æˆ»ã‚‹ â†’ RecordMenu   â”‚
â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ MainMenu                                â”‚
â”‚                                                        â”‚
â”œâ”€â”€ TrainMenu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”œâ”€â”€ CloudTrainSubmenu                                â”‚
â”‚   â”‚   â”œâ”€â”€ [æ–°è¦ã‚¸ãƒ§ãƒ–] â†’ JobCreate â†’ æˆ»ã‚‹              â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ TrainMenu                           â”‚
â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ MainMenu                                â”‚
â”‚                                                        â”‚
â”œâ”€â”€ StorageMenu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”œâ”€â”€ LocalDataSubmenu                                 â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ StorageMenu                         â”‚
â”‚   â”œâ”€â”€ R2SyncSubmenu                                    â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ StorageMenu                         â”‚
â”‚   â”œâ”€â”€ HuggingFaceSubmenu                               â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ StorageMenu                         â”‚
â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ MainMenu                                â”‚
â”‚                                                        â”‚
â”œâ”€â”€ SetupMenu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”œâ”€â”€ ProjectSubmenu                                   â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ SetupMenu                           â”‚
â”‚   â”œâ”€â”€ DeviceSubmenu                                    â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ SetupMenu                           â”‚
â”‚   â”œâ”€â”€ CalibrationSubmenu                               â”‚
â”‚   â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ SetupMenu                           â”‚
â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ MainMenu                                â”‚
â”‚                                                        â”‚
â”œâ”€â”€ InfoMenu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ MainMenu                                â”‚
â”‚                                                        â”‚
â”œâ”€â”€ ConfigMenu â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â””â”€â”€ [æˆ»ã‚‹] â†’ MainMenu                                â”‚
â”‚                                                        â”‚
â””â”€â”€ [çµ‚äº†] â†’ ã‚¢ãƒ—ãƒªçµ‚äº†                                   â”‚
```

## ã€Œæˆ»ã‚‹ã€ã®çµ±ä¸€æŒ™å‹•

1. **å…¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§æœ€å¾Œã«ã€ŒÂ« æˆ»ã‚‹ã€ã‚’è‡ªå‹•è¿½åŠ **
   - `BaseMenu.show()` ã§è‡ªå‹•çš„ã«è¿½åŠ 
   - é–‹ç™ºè€…ã¯é¸æŠè‚¢ã‚’å®šç¾©ã™ã‚‹ã ã‘

2. **BACK_VALUE ã¾ãŸã¯ Ctrl+C ã§ BACK ã‚’è¿”ã™**
   - `__BACK__` ç‰¹æ®Šå€¤ã§ã€Œæˆ»ã‚‹ã€ã‚’è­˜åˆ¥
   - Ctrl+C (KeyboardInterrupt) ã‚‚åŒæ§˜ã«1ã¤æˆ»ã‚‹
   - çµ±ä¸€çš„ã«1ã¤å‰ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹

3. **ã‚¹ã‚¿ãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**
   - ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«å…¥ã‚‹ = push
   - æˆ»ã‚‹ = pop
   - å¸¸ã«æ­£ã—ã„è¦ªãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹

## å®Ÿè£…ä¾‹

```python
# menus/operate.py
from InquirerPy.base.control import Choice

class OperateMenu(BaseMenu):
    title = "OPERATE"

    def get_choices(self):
        return [
            Choice(value="teleop", name="ğŸ•¹ï¸  ãƒ†ãƒ¬ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³"),
            Choice(value="inference", name="ğŸ¤– æ¨è«–å®Ÿè¡Œ"),
        ]

    def handle_choice(self, choice):
        if choice == "teleop":
            # ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãƒ—ãƒƒã‚·ãƒ¥
            self.app.menu.push(TeleopSubmenu(self.app).show)
            return MenuResult.CONTINUE
        elif choice == "inference":
            self.app.menu.push(InferenceSubmenu(self.app).show)
            return MenuResult.CONTINUE
        return MenuResult.CONTINUE


class TeleopSubmenu(BaseMenu):
    title = "TELEOP"

    def get_choices(self):
        return [
            Choice(value="simple", name="ğŸ® ã‚·ãƒ³ãƒ—ãƒ« (ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰)"),
            Choice(value="visual", name="ğŸ“¹ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ« (ã‚«ãƒ¡ãƒ©ä»˜ã)"),
            Choice(value="bimanual", name="ğŸ¤ åŒè…•ãƒ¢ãƒ¼ãƒ‰"),
            Choice(value="remote", name="ğŸŒ ãƒªãƒ¢ãƒ¼ãƒˆ (HTTP)"),
        ]

    def handle_choice(self, choice):
        # APIã‚’å‘¼ã³å‡ºã—ã¦ãƒ†ãƒ¬ã‚ªãƒšé–‹å§‹
        try:
            result = self.api.start_teleop(mode=choice)
            print(f"âœ… ãƒ†ãƒ¬ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹: {result}")
            input("\nEnterã‚­ãƒ¼ã§æˆ»ã‚‹...")
        except Exception as e:
            print(f"âŒ ã‚¨ãƒ©ãƒ¼: {e}")
            input("\nEnterã‚­ãƒ¼ã§æˆ»ã‚‹...")

        return MenuResult.BACK  # å®Ÿè¡Œå¾Œã¯1ã¤æˆ»ã‚‹
```

## ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```toml
[project]
dependencies = [
    "InquirerPy>=0.3.4",
    "rich>=13.0.0",
    "httpx>=0.27.0",       # requests ã‚ˆã‚Š async å¯¾å¿œã€å‹ãƒ’ãƒ³ãƒˆå……å®Ÿ
]
```

## InquirerPy ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©

```python
# styles.py
from InquirerPy.utils import get_style

hacker_style = get_style({
    "questionmark": "#00ff00 bold",    # ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã‚°ãƒªãƒ¼ãƒ³
    "answermark": "#00ff00",
    "answer": "#00ffff bold",          # ã‚·ã‚¢ãƒ³
    "input": "#00ff00",
    "question": "#00ff00 bold",
    "answered_question": "#00ff00",
    "instruction": "#808080",
    "long_instruction": "#808080",
    "pointer": "#00ff00 bold",
    "checkbox": "#00ff00",
    "separator": "#00ff00",
    "skipped": "#808080",
    "validator": "#ff0000",
    "marker": "#00ff00",
    "fuzzy_prompt": "#00ff00",
    "fuzzy_info": "#808080",
    "fuzzy_border": "#00ff00",
    "fuzzy_match": "#00ffff bold",
}, style_override=False)
```

## ã‚³ãƒãƒ³ãƒ‰

```bash
# èµ·å‹•
phi              # ã¾ãŸã¯ python -m phi_cli

# Backend APIã‚µãƒ¼ãƒãƒ¼ã‚‚èµ·å‹•
phi --with-server
```
